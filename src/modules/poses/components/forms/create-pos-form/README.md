# CreatePosForm Component

## Описание

Компонент формы создания позиции, рефакторенный для использования React Hook Form и Zod валидации.

## Особенности

- **React Hook Form**: Современное управление состоянием формы с оптимизированной производительностью
- **Zod валидация**: Строгая типизация и валидация данных на уровне схемы
- **Автоматический поиск артикула**: Поиск информации об артикуле при вводе 9 символов
- **Валидация в реальном времени**: Проверка полей при изменении
- **Обработка существующих позиций**: Автоматическое объединение количества для существующих артикулов

## Структура файлов

```
create-pos-form/
├── CreatePosForm.tsx      # Основной компонент с логикой
├── view.tsx               # UI компонент формы
├── schema.ts              # Zod схема валидации
├── index.ts               # Экспорты
└── README.md              # Документация
```

## Использование

```tsx
import { CreatePosForm } from "@/modules/poses/components/forms";

function MyComponent() {
  const handleSuccess = () => {
    // Обработка успешного создания
  };

  const handleCancel = () => {
    // Обработка отмены
  };

  return (
    <CreatePosForm
      pallet={palletData}
      onSuccess={handleSuccess}
      onCancel={handleCancel}
    />
  );
}
```

## Zod схема

```tsx
const createPosFormSchema = z.object({
  artikul: z
    .string()
    .min(1, "Артикул є обов'язковим")
    .regex(/^\d{4}-\d{4}$/, "Артикул повинен мати формат ЦЦЦЦ-ЦЦЦЦ"),
  quant: z.number().min(1, "Кількість товару повинна бути більше 0"),
  boxes: z.number().min(1, "Кількість коробок повинна бути більше 0"),
  sklad: z.string().min(1, "Склад є обов'язковим"),
});
```

## Валидация

- **Артикул**: Обязательное поле, формат ЦЦЦЦ-ЦЦЦЦ
- **Количество товара**: Обязательное поле, больше 0
- **Количество коробок**: Обязательное поле, больше 0
- **Склад**: Обязательное поле
- **Дата и комментарий**: Опциональные поля

## Состояния

- **Загрузка**: Отображение состояния загрузки при поиске артикула
- **Отправка**: Блокировка формы во время отправки данных
- **Ошибки**: Валидация и отображение ошибок в реальном времени
- **Существующая позиция**: Уведомление о существующем артикуле на палете

## Преимущества рефакторинга

1. **Производительность**: React Hook Form минимизирует перерендеры
2. **Типизация**: Zod обеспечивает строгую типизацию данных
3. **Валидация**: Централизованная валидация через схему
4. **Поддерживаемость**: Четкое разделение логики и UI
5. **Тестируемость**: Легче тестировать отдельные части компонента
